{% extends 'partials/wide_dark_card.html' %}
{% block contents %}
<div class="card-header">
  <h1 class="card-title">Members List</h1>
</div>

<div class="card-body">

  <div class="row justify-content-end">
    <div class="col"></div>
    <div class="col-auto">
        <div>
      <form action="{% url 'members_list' %}" method="post" id="form_bar">
        {% csrf_token %}
        <div class="input-group mb-3">
          <input type="search" placeholder="Search member" name="searched_letters">
          <button type="submit" name ="search_btn" class="btn btn-outline-light text-white">Search</button>
        </div>
      </form>
        </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
    <form action="{% url 'members_list' %}" method="post" id="form_sort">
        {% csrf_token %}
    <select name="sort_table" class="btn btn-outline-light text-black" onchange="this.form.submit()">
        <option disabled="true" selected>--Sort By--</option>
        <option value="first_name">First Name</option>
        <option value="last_name">Last name</option>
    </select>
    </form>

      <table class="table table-dark table-striped">
        <thead class="table-dark">
          <h2>Owner</h2>
        </thead>
        <tbody>
          {% for owner in owners %}
            <tr>
              <td>
                <img src="{{ owner.mini_gravatar }}" alt="Gravatar of {{ owner.first_name }} {{owner.last_name }}">
              </td>
              <td>
                <a href="{% url 'show_member' owner.id %}">
                  {{ owner.first_name }} {{owner.last_name }}
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  <div class="row">
    <div class="col-6">
      <table class="table table-dark table-striped">
        <thead class="table-dark">
          <h2>Members</h2>
        </thead>
        <tbody>
          {% for member in members %}
            <tr>
              <td>
                <img src="{{ member.mini_gravatar }}" alt="Gravatar of {{ member.first_name }} {{member.last_name }}">
              </td>
              <td>
                <a href="{% url 'show_member' member.id %}">
                  {{ member.first_name }} {{member.last_name }}
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="col-6">
      <table class="table table-dark table-striped">
        <thead class="table-dark">
          <h2>Officers</h2>
        </thead>
        <tbody>
          {% for officer in officers %}
            <tr>
              <td>
                <img src="{{ officer.mini_gravatar }}" alt="Gravatar of {{ officer.first_name }} {{officer.last_name }}">
              </td>
              <td>
                <a href="{% url 'show_member' officer.id %}">
                  {{ officer.first_name }} {{officer.last_name }}
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
</div>
{% endblock %}
</div>
</div>